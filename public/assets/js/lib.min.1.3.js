!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports.QMULComponents=t(require("jQuery")):e.QMULComponents=t(e.jQuery)}(window,function(e){return function(e){function t(t){for(var n,r,s=t[0],l=t[1],d=t[2],c=0,f=[];c<s.length;c++)r=s[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},o={1:0},i=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window.webpackJsonpQMULComponents=window.webpackJsonpQMULComponents||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=l;return i.push([1,3]),a()}([function(t,a){t.exports=e},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}),a(38)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expertCard=t.alertBanner=t.selectToggle=t.pgtHeader=t.pgtApply=t.pie=t.filtering=t.courseFinderBoxHome=t.revealMore=t.modal=t.schoolInfoCard=t.btt=t.selectFilter=t.pagination=t.resultsSet=t.keywordFilter=t.resultsFilter=t.navDrawer=t.courseNav=t.tertiaryNav=t.secondaryNav=t.primaryNav=t.header=t.lightbox=t.verticalTabs=t.tabs=t.disclosureBox=t.slider=void 0,a(3);var n=z(a(4)),o=z(a(7)),i=z(a(8)),r=z(a(9)),s=z(a(10)),l=z(a(11)),d=z(a(12)),u=z(a(13)),c=z(a(14)),f=z(a(15)),v=z(a(17)),p=z(a(18)),h=z(a(19)),g=z(a(20)),m=z(a(21)),b=z(a(22)),y=z(a(23)),C=z(a(26)),w=z(a(27)),_=z(a(28)),k=z(a(29)),x=z(a(30)),M=z(a(32)),O=z(a(33)),j=z(a(34)),P=z(a(35)),T=z(a(36)),S=z(a(37)),A=function(e){return e&&e.__esModule?e:{default:e}}(a(0));function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var F=void 0,N=(0,A.default)("body");(0,A.default)(window).on("resize",function(){N.addClass("is-resizing"),clearTimeout(F),F=setTimeout(function(){return N.removeClass("is-resizing")},200)}),t.slider=n,t.disclosureBox=o,t.tabs=i,t.verticalTabs=r,t.lightbox=y,t.header=s,t.primaryNav=d,t.secondaryNav=u,t.tertiaryNav=c,t.courseNav=f,t.navDrawer=l,t.resultsFilter=v,t.keywordFilter=g,t.resultsSet=p,t.pagination=h,t.selectFilter=m,t.btt=b,t.schoolInfoCard=C,t.modal=w,t.revealMore=_,t.courseFinderBoxHome=k,t.filtering=x,t.pie=M,t.pgtApply=O,t.pgtHeader=j,t.selectToggle=P,t.alertBanner=T,t.expertCard=S},function(e,t,a){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<a;){var i=t[o];if(e.call(n,i,o,t))return i;o++}},configurable:!0,writable:!0})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profilesSelector=t.singleSelector=t.inlineSelector=t.defaultSelector=t.profilesOptions=t.singleOptions=t.inlineOptions=t.defaultOptions=t.init=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(a(0));a(5),a(6);var i={dots:!0,adaptiveHeight:!1,mobileFirst:!0,appendArrows:"[data-slider-controls]",appendDots:"[data-slider-controls]",responsive:[{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}}],prevArrow:'<button type="button" class="slick-prev">\n    <svg class="icon icon--full"><title>Previous</title>\n  <use href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-back" xlink:href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-back"></use>\n</svg></button>',nextArrow:'<button type="button" class="slick-next">\n    <svg class="icon icon--full"><title>Next</title>\n  <use href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-forward" xlink:href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-forward"></use>\n</svg></button>'},r=n({},i,{responsive:!1});t.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-component="slider-default"]',t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n({},i,t),r=(0,o.default)(e);r.on("setPosition",function(e,t){var a=r.innerWidth(),n=Math.floor((a+32)/t.$slides.first().outerWidth()),o=t.$slideTrack.find("> div"),i=o.filter(".slick-current").first(),s=o.index(i);o.addClass("offscreen");var l=o.slice(s,s+n);0===l.length?o.removeClass("offscreen"):l.removeClass("offscreen")}),r.slick(a)};t.defaultOptions=i,t.inlineOptions={dots:!1,adaptiveHeight:!1,mobileFirst:!0,responsive:!1,prevArrow:'<button type="button" class="slick-prev slick-prev--inline">\n    <svg class="icon icon--full"><title>Previous</title>\n  <use href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-back" xlink:href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-back"></use>\n</svg></button>',nextArrow:'<button type="button" class="slick-next slick-next--inline">\n    <svg class="icon icon--full"><title>Next</title>\n  <use href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-forward" xlink:href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-forward"></use>\n</svg></button>'},t.singleOptions=r,t.profilesOptions={dots:!1,adaptiveHeight:!1,variableWidth:!0,mobileFirst:!0,responsive:!1},t.defaultSelector='[data-component="slider-default"]',t.inlineSelector='[data-component="slider-inline"]',t.singleSelector='[data-component="slider-single"]',t.profilesSelector='[data-component="slider-profiles"]'},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)('[data-component="disclosure-box"]').each(function(){(0,n.default)(this).find('[data-role="trigger"]').on("click",function(){(0,n.default)(this).parent('[data-role="section"]').toggleClass("is-open");var e="true"===(0,n.default)(this).attr("aria-expanded");(0,n.default)(this).attr("aria-expanded",!e)})})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=window.location.hash;(0,n.default)('[data-component="tabs"]').each(function(){var t=(0,n.default)(this),a=t.find('[data-role="tab"]'),o=t.find('[data-role="trigger"]'),i=t.find('[data-role="content"]'),r=t.find('[data-role="container"]');function s(){var e=0;t.removeClass("is-stacked"),a.each(function(){e+=(0,n.default)(this).outerWidth()}),e>r.outerWidth()?t.addClass("is-stacked"):t.removeClass("is-stacked")}(0,n.default)(window).on("resize",s),s(),o.attr("aria-expanded","false"),o.attr("tabindex","0"),o.on("click",function(e){var o=(0,n.default)(this),r=t.find(o.attr("href"));r.length&&(a.removeClass("is-active"),o.parent('[data-role="tab"]').addClass("is-active"),i.hide(),r.show());var s="true"===(0,n.default)(this).attr("aria-expanded")||!1;return(0,n.default)(this).attr("aria-expanded",!s),!1}),o.on("keypress",function(e){13==e.keyCode&&(0,n.default)(this).click()});var l=e?o.filter('[href="'+e+'"]'):[];l.length||(l=o.first()),l.click()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)('[data-component="vertical-tabs"]').each(function(){var e=(0,n.default)(this),t=e.find('[data-role="tabs"]'),a=e.find('[data-role="tab"]'),o=e.find('[data-role="trigger"]'),i=e.find('[data-role="content"]'),r=(e.find('[data-role="container"]'),(0,n.default)('<div data-role="switcher"></div>')),s=(0,n.default)('<select class="select"></select>');r.append(s),r.insertAfter(t),o.each(function(e){var t=(0,n.default)(this);t.data("optval","option-"+e);var a=t.find('[data-role="plabel"]'),o=t.find('[data-role="slabel"]'),i=a.text()+(o.length?", "+o.text():""),r=(0,n.default)('<option value="option-'+e+'">'+i+"</option>").data("trigger",t);s.append(r)}),s.on("change",function(){(0,n.default)(this).find(":selected").data("trigger").trigger("click")}),o.attr("aria-expanded","false"),o.attr("tabindex","0"),o.on("click",function(t){var r=(0,n.default)(this);if("true"!==(0,n.default)(this).attr("aria-expanded")){var l=e.find(r.attr("href"));return l.length&&(a.removeClass("is-active"),r.parent('[data-role="tab"]').addClass("is-active"),i.hide(),l.show()),o.attr("aria-expanded","false"),(0,n.default)(this).attr("aria-expanded","true"),s.val(r.data("optval")),!1}}),o.on("keypress",function(e){13==e.keyCode&&(0,n.default)(this).click()}),o.first().click()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)('[data-component="header"]'),t=(e.find('[data-role="sitesearch"]'),e.find('[data-role="sitesearch-trigger"]')),a=e.find('[data-role="sitesearch-input"]'),o=e.find(".sitesearch__submit"),i=e.find(".sitesearch__close");function r(){e.hasClass("has-search-open")&&(t.trigger("click"),t.focus())}function s(t){e.toggleClass("has-search-open"),o.attr("tabindex","0"),e.hasClass("has-search-open")&&setTimeout(function(){a.focus()},0),t.preventDefault()}t.attr("tabindex","0"),a.attr("tabindex","-1"),o.attr("tabindex","-1"),e.on("click",function(e){e.stopPropagation()}),t.on("click",s),i.on("click",r),t.on("keydown",function(e){13==e.keyCode&&s(e)}),(0,n.default)("body").on("click",r),(0,n.default)(document).keyup(function(e){27==e.keyCode&&r()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)("body");var e=(0,n.default)('[data-behaviour="nav-drawer"]');e.each(function(){var t=(0,n.default)("body"),a=(0,n.default)("html"),o=(0,n.default)(this),i=o.find('[data-role="close"]'),r=o.find('[data-role="back"]'),s=(0,n.default)('[data-toggle-drawer="'+o.attr("id")+'"]'),l=(0,n.default)("<div />").addClass("qm-overlay");function d(){if(!o.data("open")){if(function(){var t=!1;return e.each(function(){(0,n.default)(this).data("open")&&(t=!0)}),t}())return setTimeout(d,200);a.addClass("mobile-noscroll"),t.append(l),o.css("top",0),o.addClass("is-open"),o.trigger("drawer-open"),o.data("open",!0)}return!1}function u(){o.data("open")&&(a.removeClass("mobile-noscroll"),l.remove(),o.removeClass("is-open"),c(),o.trigger("drawer-closed"),o.data("open",!1),o.css("top","auto"))}function c(){return o.removeClass("step-back"),o.trigger("drawer-reset"),!1}o.data("open",!1),s.on("click",function(){return o.data("open")?u():d(),!1}),i.on("click",u),r.on("click",c),o.on("click",function(e){return e.stopPropagation()}),o.on("step-in",function(){return o.addClass("step-back"),!1}),(0,n.default)(window).on("resize",u),(0,n.default)("body").on("click",u),(0,n.default)(document).keyup(function(e){27==e.keyCode&&u()})})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)("body"),t=(0,n.default)('[data-component="primary-nav"]'),a=t.find('[data-role="section"]'),o=a.get().map(function(e){return(0,n.default)(e).attr("id")}),i=(0,n.default)('[data-component="secondary-menu"]'),r=(0,n.default)([].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(o.map(function(e){return'[data-action="show-section"][href="#'+e+'"]'})),['[data-action="show-section-link"]']).join(", ")),s=t.find('[data-role="section-toggle"]'),l=(0,n.default)("<div />").addClass("qm-overlay"),d=void 0,u=!1,c=null,f=null,v=0;function p(){u||(e.append(l),u=!0)}function h(e){return"show-section-link"===(0,n.default)(e).attr("data-action")}function g(){t.hasClass("is-open")||(r.removeClass("is-active"),a.removeClass("is-active"),t.removeClass("has-active-section"),u&&(l.remove(),u=!1)),c&&(c.focus(),c=null),f&&(f=null,v=0)}t.on("drawer-closed",function(){t.removeClass("has-open-section"),a.removeClass("is-open")}),t.on("drawer-reset",function(){return t.removeClass("has-open-section"),a.removeClass("is-open"),!1}),r.on("keydown",function(e){if("Enter"===e.key&&!h(this)){var t=(0,n.default)((0,n.default)(this).attr("href"));c=(0,n.default)(this).get(0),setTimeout(function(){t.get(0).focus()},330)}}),r.on("touchstart",function(){f===(0,n.default)(this).get(0)?v=2:(f=(0,n.default)(this).get(0),v=1)}),r.on("mouseover",function(){var e=(0,n.default)(this);h(this)&&(e=(0,n.default)(this).next()),i.trigger("close"),clearTimeout(d),d=setTimeout(function(){r.removeClass("is-active"),e.addClass("is-active"),a.removeClass("is-active"),(0,n.default)(e.attr("href")).addClass("is-active"),p(),t.addClass("has-active-section")},u?0:300)}),r.on("mouseout",function(){clearTimeout(d),d=setTimeout(g,300)}),r.on("click",function(e){var o=this;return h(this)?1!==v:(i.trigger("close"),clearTimeout(d),d=setTimeout(function(){r.removeClass("is-active");var e=(0,n.default)(o),i=(0,n.default)(e.attr("href"));e.addClass("is-active"),a.removeClass("is-active"),i.addClass("is-active"),p(),t.addClass("has-active-section")},u?0:300),!1)}),t.on("mouseover",function(){clearTimeout(d)}),t.on("mouseout",function(){(0,n.default)(window).width()>=768&&(d=setTimeout(g,300))}),s.on("click",function(){var e=(0,n.default)(this).parent('[data-role="section"]');e.hasClass("is-open")||(t.addClass("has-open-section"),a.removeClass("is-open"),e.addClass("is-open"),t.trigger("step-in"))}),(0,n.default)(document).keyup(function(e){27==e.keyCode&&(clearTimeout(d),d=setTimeout(g,100))}),a.on("focusout",function(){setTimeout(function(){(0,n.default)(":focus").closest(".primary-nav__group").length<=0&&(clearTimeout(d),d=setTimeout(g,100))},50)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=(0,n.default)("body"),t=306,a=(0,n.default)('[data-component="secondary-menu"]'),o=a.find('[data-role="content"]'),i=o.find('[data-role="nav"]'),r=o.find('[data-role="nav"] > ul'),s=(r.find("ul"),r.find("> li > a, > li > span a")),l=s.closest("li"),d=(0,n.default)("<div />").addClass("qm-overlay").addClass("qm-overlay--no-mobile"),u=!1,c=null,f=!!("ontouchstart"in window);f&&i.addClass("is-touch");var v=(0,n.default)('<li class="secondary-menu__more"><a href="#">More</a><ul class="secondary-menu__more-items"></ul></li>'),p=v.find(".secondary-menu__more-items");function h(){return a.hasClass("is-open")}function g(){u||(e.append(d),u=!0)}function m(){u&&(l.removeClass("hover-active"),v.removeClass("hover-active"),d.detach(),u=!1)}function b(){setTimeout(function(){(0,n.default)(":focus").closest(".hover-active").length<=0&&m()},50)}function y(){var e=i.width(),a=function(){var e=v.outerWidth();0===e&&(r.append(v),e=v.outerWidth(),v.detach());return e}(),o=(0,n.default)(window).width(),s=r.width()<e?0:a,d=!1,u=!1;p.empty(),v.removeClass("has-left-dropdown"),l.removeClass("is-offscreen"),l.removeClass("has-left-dropdown"),l.each(function(){var a=(0,n.default)(this),i=a.outerWidth();if((s+=i)<e)a.removeClass("is-offscreen"),a.offset().left+t>o&&a.addClass("has-left-dropdown");else{d=!0;var r=a.clone(),l=r.find("ul .currentbranch0 > a");l.length&&(u=!0,l.unwrap()),p.append(r),a.addClass("is-offscreen")}}),d?(r.append(v),v.offset().left+t>o?v.addClass("has-left-dropdown"):v.removeClass("has-left-dropdown"),u?v.addClass("has-active-child"):v.removeClass("has-active-child")):v.detach()}r.append(v),v.on("click","li.has-children > a, li.has-children > span a",function(){var e=(0,n.default)(this).closest("li");return e.hasClass("is-open")?e.removeClass("is-open"):(e.siblings("li").removeClass("is-open"),e.addClass("is-open")),!1}),v.detach(),f?(v.on("click",function(){h()||(v.hasClass("hover-active")?(v.removeClass("hover-active"),m()):(l.removeClass("hover-active"),v.removeClass("hover-active"),v.addClass("hover-active"),g()))}),d.on("click",function(){l.removeClass("hover-active"),v.removeClass("hover-active"),m()})):(v.on("mouseover",function(){clearTimeout(c),c=setTimeout(function(){l.removeClass("hover-active"),v.addClass("hover-active"),g()},u?0:300)}),v.on("mouseout",function(){clearTimeout(c),c=setTimeout(function(){l.removeClass("hover-active"),v.removeClass("hover-active"),m()},400)}),v.on("keyup",function(e){9==e.which&&(l.removeClass("hover-active"),v.addClass("hover-active"),g())}),v.on("focusout",b)),l.each(function(){var e=(0,n.default)(this),t=e.find("li"),a=e.find("> a, > span a");if(f)e.on("click",function(){h()||(e.hasClass("hover-active")?(e.removeClass("hover-active"),m()):(l.removeClass("hover-active"),v.removeClass("hover-active"),e.addClass("hover-active"),g()))}),s.on("click",function(e){var t=(0,n.default)(this).closest("li").find("li").length>0;!h()&&t&&e.preventDefault()});else if(e.on("mouseover",function(){clearTimeout(c),c=setTimeout(function(){l.removeClass("hover-active"),v.removeClass("hover-active"),e.addClass("hover-active"),g()},u?0:300)}),e.on("mouseout",function(){clearTimeout(c),c=setTimeout(function(){e.removeClass("hover-active"),m()},400)}),a.on("focus",function(){l.removeClass("hover-active"),v.removeClass("hover-active"),e.addClass("hover-active"),g()}),a.on("focusout",b),t.length){var o=t.last().find("a");o&&o.on("focusout",b)}if(t.length>0){var i=e.clone();i.find("ul").remove(),t.closest("ul").prepend(i),e.addClass("has-children"),e.find("> a, > span a").on("click",function(){if(h())return e.hasClass("is-open-mobile")?e.removeClass("is-open-mobile"):(l.removeClass("is-open-mobile"),e.addClass("is-open-mobile")),!1})}}),y(),(0,n.default)(window).on("resize",y),i.addClass("is-ready")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)('[data-component="tertiary-nav"]'),t=e.find('[data-role="toggle"]'),a=e.find('[data-role="toggle-label"]'),o=e.find("li.active").last();o=o.length?o:e.find("li").first(),a.text(o.find("> a").text()),e.prepend(t),t.on("click",function(){e.toggleClass("is-open")})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=i(a(0)),o=i(a(16));function i(e){return e&&e.__esModule?e:{default:e}}t.init=function(){var e=(0,n.default)("body"),t=(0,n.default)('[data-component="course-nav"]');if(t.length){var a=[],i=t.clone().hide(),r=0;t.find('[data-role="jump"]').first().addClass("is-active"),i.find('[data-role="jump"]').removeClass("is-active");var s=t.find('[data-role="toggle"]');i.find('[data-role="toggle"]').on("click",function(){return i.toggleClass("is-expanded"),!1}),s.on("click",function(){return t.toggleClass("is-expanded"),!1}),i.find('[data-role="jump"] a').each(function(){var e=(0,n.default)((0,n.default)(this).attr("href"));a.push(e)}),t.find('[data-role="jump"]').on("click",u),i.find('[data-role="jump"]').on("click",u),e.append(i),(0,o.default)(l).start(),(0,o.default)(c).start(),(0,n.default)(window).on("resize",function(){r=d()}),r=d(),l(),c()}function l(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.default)("html").scrollTop())>t.offset().top-r+t.height()?i.addClass("is-stuck").show():i.removeClass("is-stuck").hide()}function d(){var e=i.height();return i.is(":hidden")&&(i.show().addClass("is-stuck"),e=i.height(),i.hide().removeClass("is-stuck")),e}function u(e){var a=(0,n.default)(e.target),o=(0,n.default)(a.attr("href"));if(o){i.removeClass("is-expanded"),t.removeClass("is-expanded");var s=o.offset().top-r+1;(0,n.default)("html, body").animate({scrollTop:s})}return!1}function c(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.default)("html").scrollTop())+r,t=0;t<a.length;t++){var o=a[t],s=o.offset().top,l=s+o.height();if(e>=s&&e<l){var d=o.attr("id");return i.find('[data-role="jump"]').removeClass("is-active"),void i.find('[href="#'+d+'"]').parent("li").addClass("is-active")}}i.find('[data-role="jump"]').removeClass("is-active")}}},function(e,t,a){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));e.exports=function(e){var t=0,a=!1,o=function(n){t=window.scrollY,a||(window.requestAnimationFrame(function(){e(t),a=!1}),a=!0)};return{stop:function(){(0,n.default)(window).off("scroll",o)},start:function(){(0,n.default)(window).on("scroll",o)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.default)('[data-component="results-filter"]'),a=(t.find('[data-role="filter"]'),t.find(":checkbox")),i=t.find('[data-role="clear"]'),r={};o.default.each(a.get(),function(e,t){var a=t.name,n=t.value;r[a]||(r[a]={}),r[a][n]=0}),e.counters&&rs.addClass("with-counters");var s=void 0;function l(){if(0===a.filter(":checked").length?t.removeClass("is-active"):t.addClass("is-active"),s){var e=(0,o.default)(this);s.trigger(e.is(":checked")?"add-filter":"remove-filter",{name:e.attr("name"),value:e.attr("value"),owner:t})}}!t.attr("data-target")||(s=(0,o.default)(t.attr("data-target"))).length?(a.on("change",l),i.on("click",function(){return t.attr("data-target")&&s.trigger("clear",[t]),t.removeClass("is-active"),a.prop("checked",!1),!1}),s&&s.on("filter-change",function(e,t){o.default.each(t.counts,function(e,t){var i=r[e];i&&(t=n({},i,t)),o.default.each(t,function(t,n){!function(e,t,n){var o=a.filter('[name="'+e+'"][value="'+t+'"]'),i=o.parent().find('[data-role="count"]');n>0?(o.prop("disabled",!1),i.text("("+n+")")):(o.prop("disabled",!0),i.empty())}(e,t,n)})})}),l()):console.error("Filter target not found")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=(0,n.default)('[data-component="results-set"]'),t=e.find('[data-role="results"] > li'),a=e.find('[data-role="summary"]'),i=e.find('[data-role="count-start"]'),r=e.find('[data-role="count-end"]'),s=e.find('[data-role="count-results"]'),l=e.find('[data-role="count-total"]'),d=(0,n.default)('<p class="results-set">No matching results</p>');a.after(d),d.hide();var u={perPage:t.length,page:1,totalResults:t.length,counts:{}};Object.defineProperty(u,"validResults",{get:function(){return t.filter(".is-valid").length}}),Object.defineProperty(u,"pages",{get:function(){var e=Math.ceil(this.validResults/this.perPage);return e>1?e:1}}),Object.defineProperty(u,"from",{get:function(){return this.page*this.perPage-this.perPage+1}}),Object.defineProperty(u,"to",{get:function(){var e=this.from+this.perPage-1;return e>this.validResults?this.validResults:e}});var c=[];function f(){p(),m(),e.addClass("is-ready"),e.trigger("ready",u)}function v(a){a>u.pages&&(a=u.pages),a<1&&(a=1),u.page=a,t.removeClass("is-visible"),t.filter(".is-valid").slice(u.from-1,u.to).addClass("is-visible"),e.trigger("page-change",u)}function p(){var a=void 0;if(0===c.length)e.removeClass("is-filtered"),a=t;else{for(var i="",r=0;r<c.length;r++){var s=c[r],l=s.selector||"~=";i+="[data-"+s.name+l+'"'+s.value.toLowerCase()+'"]'}(a=t.filter(i)).length!==t.length&&e.addClass("is-filtered")}t.removeClass("is-valid").removeClass("is-visible"),a.addClass("is-valid"),a.slice(u.from-1,u.to).addClass("is-visible"),function(){var e={};t.each(function(t,a){var i=(0,n.default)(a),r=i.data();for(var s in r)if(r.hasOwnProperty(s)){var l=o(s),d=r[s].toString().split(" ");e[l]||(e[l]={});for(var u=0;u<d.length;u++){var c=n.default.trim(d[u]);if(""!==c){var f=i.hasClass("is-valid")?1:0;e[l][c]=void 0===e[l][c]?f:e[l][c]+f}}}}),u.counts=e}(),e.trigger("filter-change",u),v(1)}function h(e){for(var t=0;t<c.length;t++){var a=c[t];if(a.name===e.name&&a.value===e.value)return}c.push(e),p()}function g(e){for(var t=0;t<c.length;t++){var a=c[t];a.name===e.name&&a.value===e.value&&c.splice(t,1)}p()}function m(){if(0===u.validResults)return a.hide(),void d.show();d.hide(),i.text(u.from),r.text(u.to),s.text(u.validResults),l.text(u.totalResults),a.show()}e.on("clear",function(e,t){return function(e){c=e?c.filter(function(t){return t.owner[0]!==e[0]}):[];p()}(t)}),e.on("add-filter",function(e,t){return h(t)}),e.on("remove-filter",function(e,t){return g(t)}),e.on("update-filter",function(e,t){return function(e){if(e.value){for(var t=0;t<c.length;t++){var a=c[t];if(a.name===e.name)return a.value=e.value,void p()}h(e)}else{for(var n=void 0,o=0;o<c.length;o++){var i=c[o];if(i.name===e.name&&i.owner===e.owner){n=i;break}}n?g(n):(console.log("Counld not find filter to update"),console.log(e))}}(t)}),e.on("show-page",function(e,t){return v(t)}),e.on("first-page",function(){return v(1)}),e.on("last-page",function(){return v(u.pages)}),e.on("prev-page",function(){return v(u.page-1)}),e.on("next-page",function(){return v(u.page+1)}),e.on("set-page-size",function(t,a){return function(t){u.perPage=t,e.trigger("page-size-change",u),v(1)}(a)}),e.on("filter-change",m),e.on("page-change",m),f()};function o(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)('[data-component="pagination"]').each(function(){var t=(0,n.default)(this),a=void 0;if(!t.attr("data-target")||(a=(0,n.default)(t.attr("data-target"))).length){if(a){var o=function(e){s.find("li").removeClass("is-active").eq(e.page-1).addClass("is-active"),1==e.page?(l.addClass("is-disabled"),d.addClass("is-disabled")):(l.removeClass("is-disabled"),d.removeClass("is-disabled")),e.page==e.pages?(u.addClass("is-disabled"),c.addClass("is-disabled")):(u.removeClass("is-disabled"),c.removeClass("is-disabled"))},i=function(e){for(var t=s.find("li").first(),a=1;a<e.pages;a++){var n=t.clone();n.find("a").text(a+1).attr("data-go",a+1),s.append(n)}},r=function(){s.find("li").removeClass("is-active").filter(":not(:first)").remove()},s=t.find('[data-role="pages"]'),l=t.find('[data-role="first"]'),d=t.find('[data-role="prev"]'),u=t.find('[data-role="last"]'),c=t.find('[data-role="next"]'),f=t.data("per-page")||e.perPage||10;a.on("ready",function(e,t){a.trigger("set-page-size",f)}),a.on("filter-change",function(e,t){r(),i(t)}),a.on("page-size-change",function(e,t){r(),i(t),o(t)}),a.on("page-change",function(e,t){o(t)}),s.on("click","a",function(){return a.trigger("show-page",(0,n.default)(this).attr("data-go")),!1}),l.on("click",function(){return a.trigger("first-page"),!1}),d.on("click",function(){return a.trigger("prev-page"),!1}),u.on("click",function(){return a.trigger("last-page"),!1}),c.on("click",function(){return a.trigger("next-page"),!1})}}else console.error("Pagination target not found")})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)('[data-component="keyword-filter"]').each(function(){var e=(0,n.default)(this),t=e.find("input"),a=void 0;!e.attr("data-target")||(a=(0,n.default)(e.attr("data-target"))).length?a&&t.on("keyup",function(){a.trigger("update-filter",{name:t.attr("name"),value:t.val(),selector:"*=",owner:t})}):console.error("Keyword filter target not found")})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)('[data-component="select-filter"]').each(function(){var e=(0,n.default)(this),t=e.find("select");t.data("prev",t.val());var a=void 0;!e.attr("data-target")||(a=(0,n.default)(e.attr("data-target")))?(t.on("change",function(){var n=t.val();a.trigger("update-filter",{name:t.attr("name"),value:n,owner:e}),t.data("prev",n)}),t.val()&&a.on("ready",function(){a.trigger("add-filter",{name:t.attr("name"),value:t.val(),owner:e})})):console.error("Select target not found")})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)('[data-component="btt"]'),t=e.find('[data-role="link"]'),a=e.find("a").attr("href"),o=document.querySelector(a);function i(){(0,n.default)(document).scrollTop()>50?e.addClass("is-visible"):e.removeClass("is-visible")}o&&0!==o.length&&(t.on("click",function(){return o.scrollIntoView({behavior:"smooth"}),!1}),(0,n.default)(document).on("scroll",i),i())}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(a(0));a(24),a(25);var i={loop:!0,buttons:["close"],image:{preload:!0},infobar:!1,btnTpl:{close:'<button data-fancybox-close class="fancybox-button fancybox-button--close bg-transparent text-white" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg"><title>{{CLOSE}}</title><use href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#close" xlink:href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#close" fill="white"></use></svg></button>',arrowLeft:'<a data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg"><title>{{PREV}}</title><use href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-back" xlink:href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-back"></use></svg></a>',arrowRight:'<a data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg"><title>{{NEXT}}</title><use href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-forward" xlink:href="https://www.qmul.ac.uk/media/ow-assets/assets/icons/sprite.1.2.3.svg#arrow-forward"></use></svg></a>'}};t.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=n({},i,{lightboxOptions:e}),(0,o.default)('[data-fancybox="gallery"]').fancybox(e)}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)('[data-component="school-info-card"]').each(function(){var e=(0,n.default)(this),t=e.find('[data-role="more-toggle"]');t.attr("aria-expanded","false"),t.attr("role","button"),t.attr("tabindex","0"),t.on("click",function(){e.toggleClass("show-more");var t="true"===(0,n.default)(this).attr("aria-expanded")||!1;(0,n.default)(this).attr("aria-expanded",!t)}),t.on("keypress",function(e){13==e.keyCode&&(0,n.default)(this).click()})})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)("html"),t=(0,n.default)('[data-component="modal"]'),a=(0,n.default)("[data-modal-trigger]"),o=(0,n.default)('[data-role="panel"]'),i=t.find('[data-role="close"]');function r(e){return e.keyCode||e.which}function s(){t.removeClass("is-open"),t.removeAttr("modal","true"),t.removeAttr("role","dialog"),(0,n.default)("iframe").attr("src",(0,n.default)("iframe").attr("src")),a.attr("aria-expanded","false"),e.removeClass("noscroll")}a.attr("aria-expanded","false"),a.attr("role","button"),a.on("click",function(a){t.removeClass("is-open"),(0,n.default)(a.target).attr("aria-expanded","true");var o=t.filter((0,n.default)(this).attr("href"));o.addClass("is-open"),o.attr("modal","true"),o.attr("role","dialog");var i=o.find((0,n.default)("a[href], area[href], input, select, textarea, button, iframe, object, embed, [tabindex], *[contenteditable]").not("[tabindex=-1], [disabled], :hidden")),s=i.first(),l=i.last();return s.focus(),l.on("keydown",function(e){console.log("beep"),9!==r(e)||e.shiftKey||(e.preventDefault(),s.focus())}),s.on("keydown",function(e){9===r(e)&&e.shiftKey&&(e.preventDefault(),l.focus())}),e.addClass("noscroll"),!1}),t.on("click",function(e){s(),e.stopPropagation()}),o.on("click",function(e){e.stopPropagation()}),i.on("click",function(){return s(),!1}),(0,n.default)(document).keyup(function(e){27==r(e)&&s()}),(0,n.default)(window).resize(function(){s()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)('[data-component="reveal-more"]').find('[data-role="toggle"]');e.attr("aria-expanded","false"),e.attr("tabindex","0"),e.on("click",function(){(0,n.default)(this).parent('[data-role="section"]').toggleClass("is-open");var e="true"===(0,n.default)(this).attr("aria-expanded")||!1;return(0,n.default)(this).attr("aria-expanded",!e),!1}),e.on("keypress",function(e){13==e.keyCode&&(0,n.default)(this).click()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)("#studyselector").change(function(){(0,n.default)(".study").hide(),(0,n.default)("#"+(0,n.default)(this).val()).show()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=r(a(0)),i=r(a(31));function r(e){return e&&e.__esModule?e:{default:e}}var s={selectors:{target:".mix"},callbacks:{onMixStart:function(){(0,o.default)(".cd-fail-message").fadeOut(200)},onMixFail:function(){(0,o.default)(".cd-fail-message").fadeIn(200)}}};t.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".grid--staff-profile",t=arguments[1],a=(0,o.default)("#selectThis1");if(a.length){var r=(0,o.default)(".cd-select select"),l=(0,o.default)(".cd-filter-content input[type='search']");t=n({},s,t);var d,u=(0,i.default)(e,t),c=(0,o.default)();a.on("change",function(){u.filter(this.value)});var f=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}();l.keyup(function(){f(function(){(d=l.val().toLowerCase()).length>0?((0,o.default)(".mix").each(function(){(0,o.default)(this).text().toLowerCase().match(d)?c=c.add(this):(c=c.not(this),r.prop("selectedIndex",0))}),u.filter(c)):(u.filter("all"),r.prop("selectedIndex",0))},200)}),r.focus(function(){l.val("").attr("placeholder","Search")})}}},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,n.default)('[data-component="pie"]').each(function(e){var t="pie-canvas-"+e,a=(0,n.default)(this).find('[data-role="data"]'),o=a.find("li"),i=(0,n.default)('<canvas width="150px" height="150px">').attr("id",t);a.before(i);var r=[],s=[];o.each(function(e){var t=(0,n.default)(this),a=parseInt(t.attr("data-size")),o=t.attr("data-color")||"#"+Math.floor(16777215*Math.random()).toString(16);r.push(a/100*360),s.push(o),t.prepend((0,n.default)("<span />").css("background",o))});var l=document.getElementById(t),d=l.getContext("2d"),u=0;for(e=0;e<r.length;e++)d.fillStyle=s[e],d.beginPath(),d.moveTo(l.width/2,l.height/2),d.arc(l.width/2,l.height/2,l.height/2,u,u+2*Math.PI*(r[e]/360),!1),d.lineTo(l.width/2,l.height/2),d.fill(),u+=2*Math.PI*(r[e]/360)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)('[data-component="pgt-apply"]').find('[data-role="option-select"]'),t=e.find('input[type="radio"]'),a=t.first().attr("name");t.on("change",function(){e.removeClass("has-error"),console.log("removed")}),e.on("submit",function(){return!!(0,n.default)('input[name="'+a+'"]:checked').length||(e.addClass("has-error"),!1)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)("body"),t=(0,n.default)('[data-component="pgt-header"]').find('[data-role="video-trigger"]'),a=(t.attr("href"),(0,n.default)("<div />").addClass("qm-overlay")),o=(0,n.default)('<div class="video"><iframe class="video__embed" width="560" height="315" src="https://www.youtube.com/embed/p6mWyxuOWxA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>'),i=(0,n.default)('<button class="qm-overlay__close">Ã—</button>');a.append(o).append(i);var r=!1;t.on("click",function(){return r||(e.append(a),r=!0),!1})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)('[data-component="select-toggle"]').each(function(){var e=(0,n.default)(this).find('[data-role="toggle"]'),t=[];e.find("option").each(function(){var e=(0,n.default)((0,n.default)(this).val());e.length&&(t.push(e),e.hide())}),e.on("change",function(){var a=(0,n.default)(e.find(":selected").val());n.default.each(t,function(e,t){t.hide()}),a.length&&a.show()}),e.trigger("change")})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){var e=(0,n.default)('[data-component="alert-banner"]');e.length&&e.find("button").on("click",function(){e.remove()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.init=function(){(0,n.default)('[data-component="expert-card"]').each(function(){var e=(0,n.default)(this).find('[data-role*="toggle"]'),t=e.first();t&&e.on("click",function(){var e="true"===t.attr("aria-expanded");t.attr("aria-expanded",!e)})})}},function(e,t,a){}])});